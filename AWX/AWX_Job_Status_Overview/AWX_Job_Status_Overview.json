{
  "id" : 13104232,
  "description" : "",
  "group" : "_WeenigWare AWX - Ansible Tower",
  "appliesTo" : "awx.user && awx.pass",
  "technology" : "",
  "tags" : "",
  "checksum" : "a3186434dcce76f6bdf5d441535cf4fe",
  "lineageId" : "l0x5FxRgQp-rIot03z0Z5w",
  "name" : "AWX_Job_Status_Overview",
  "displayName" : "AWX Job Status Overview",
  "version" : 1585834878,
  "auditVersion" : 0,
  "hasMultiInstances" : false,
  "collectInterval" : 60,
  "collectMethod" : "script",
  "collectorAttribute" : {
    "name" : "script",
    "linuxCmdline" : "",
    "linuxScript" : "",
    "groovyScript" : "import com.santaba.agent.groovyapi.http.HTTP\nimport groovy.json.JsonSlurper\n\ndef hostName = hostProps.get(\"system.hostname\")\ndef password=hostProps.get(\"awx.pass\")\ndef username=hostProps.get(\"awx.user\")\ndef port = hostProps.get(\"awx.port\") ? hostProps.get(\"awx.port\").toInteger() : 80\n\nhttpClient = HTTP.open(hostName, port)\n\nurl = \"http://\"+hostName+\"/api/v2/dashboard/graphs/jobs/\"\nheaders = [\n  \"Authorization\": \"Basic ${\"${username}:${password}\".bytes.encodeBase64().toString()}\",\n  \"Content-Type\": \"application/json\"\n]\nresponse = httpClient.get(url,headers)\nif  (httpClient.getStatusCode() != 200 ) { println(response);return 1; }\nobjects = new JsonSlurper().parseText(httpClient.getResponseBody())\nprintln(\"successful: ${objects.jobs.successful[-1][1]}\")\nprintln(\"failed: ${objects.jobs.failed[-1][1]}\")\n\nreturn 0",
    "scriptType" : "embed",
    "windowsCmdline" : "",
    "windowsScript" : ""
  },
  "enableAutoDiscovery" : false,
  "autoDiscoveryConfig" : null,
  "dataPoints" : [ {
    "id" : 17685,
    "dataSourceId" : 13104232,
    "name" : "success_raw",
    "description" : "",
    "alertTransitionInterval" : 0,
    "alertClearTransitionInterval" : 0,
    "type" : 1,
    "dataType" : 7,
    "maxDigits" : 4,
    "postProcessorMethod" : "namevalue",
    "postProcessorParam" : "successful",
    "rawDataFieldName" : "output",
    "maxValue" : "",
    "minValue" : "",
    "userParam1" : "",
    "userParam2" : "",
    "userParam3" : "",
    "alertForNoData" : 1,
    "alertExpr" : "",
    "alertExprNote" : "",
    "alertSubject" : "",
    "alertBody" : "",
    "enableAnomalyAlertSuppression" : ""
  }, {
    "id" : 17686,
    "dataSourceId" : 13104232,
    "name" : "failed",
    "description" : "",
    "alertTransitionInterval" : 0,
    "alertClearTransitionInterval" : 0,
    "type" : 1,
    "dataType" : 7,
    "maxDigits" : 4,
    "postProcessorMethod" : "namevalue",
    "postProcessorParam" : "failed",
    "rawDataFieldName" : "output",
    "maxValue" : "",
    "minValue" : "",
    "userParam1" : "",
    "userParam2" : "",
    "userParam3" : "",
    "alertForNoData" : 1,
    "alertExpr" : "",
    "alertExprNote" : "",
    "alertSubject" : "",
    "alertBody" : "",
    "enableAnomalyAlertSuppression" : ""
  }, {
    "id" : 17687,
    "dataSourceId" : 13104232,
    "name" : "pollinterval",
    "description" : "",
    "alertTransitionInterval" : 0,
    "alertClearTransitionInterval" : 0,
    "type" : 2,
    "dataType" : 7,
    "maxDigits" : 4,
    "postProcessorMethod" : "expression",
    "postProcessorParam" : "##POLLINTERVAL##",
    "rawDataFieldName" : "",
    "maxValue" : "",
    "minValue" : "",
    "userParam1" : "",
    "userParam2" : "",
    "userParam3" : "",
    "alertForNoData" : 1,
    "alertExpr" : "",
    "alertExprNote" : "",
    "alertSubject" : "",
    "alertBody" : "",
    "enableAnomalyAlertSuppression" : ""
  }, {
    "id" : 17688,
    "dataSourceId" : 13104232,
    "name" : "successful",
    "description" : "",
    "alertTransitionInterval" : 0,
    "alertClearTransitionInterval" : 0,
    "type" : 2,
    "dataType" : 7,
    "maxDigits" : 4,
    "postProcessorMethod" : "expression",
    "postProcessorParam" : "success_raw * ##POLLINTERVAL##",
    "rawDataFieldName" : "",
    "maxValue" : "",
    "minValue" : "",
    "userParam1" : "",
    "userParam2" : "",
    "userParam3" : "",
    "alertForNoData" : 1,
    "alertExpr" : "",
    "alertExprNote" : "",
    "alertSubject" : "",
    "alertBody" : "",
    "enableAnomalyAlertSuppression" : ""
  } ],
  "enableEriDiscovery" : false,
  "eriDiscoveryInterval" : -1,
  "eriDiscoveryConfig" : null
}