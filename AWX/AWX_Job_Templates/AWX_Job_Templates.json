{
  "id" : 13304243,
  "description" : "",
  "group" : "_WeenigWare AWX - Ansible Tower",
  "appliesTo" : "awx.user && awx.pass",
  "technology" : "",
  "tags" : "",
  "checksum" : "3d3e7e923f99a5b5df2a8df87da40b27",
  "lineageId" : "LSXxVD7UScOKsNjQQG-xhg",
  "name" : "AWX_Job_Templates",
  "displayName" : "AWX Job Templates",
  "version" : 1585845013,
  "auditVersion" : 0,
  "hasMultiInstances" : true,
  "collectInterval" : 180,
  "collectMethod" : "batchscript",
  "collectorAttribute" : {
    "name" : "batchscript",
    "linuxCmdline" : "",
    "linuxScript" : "",
    "groovyScript" : "import com.santaba.agent.groovyapi.http.HTTP\nimport groovy.json.JsonSlurper\n\ndef hostname = hostProps.get(\"system.hostname\")\ndef password=hostProps.get(\"awx.pass\")\ndef username=hostProps.get(\"awx.user\")\ndef port = hostProps.get(\"awx.port\") ? hostProps.get(\"awx.port\").toInteger() : 80\n\nhttpClient = HTTP.open(hostname, port)\n\nheaders = [\n  \"Authorization\": \"Basic ${\"${username}:${password}\".bytes.encodeBase64().toString()}\",\n  \"Content-Type\": \"application/json\"\n]\n\nurl = \"http://${hostname}/api/v2/job_templates/\"\nresponse = httpClient.get(url,headers)\nif  (httpClient.getStatusCode() != 200 ) { println(response);return 1; }\nobjects = new JsonSlurper().parseText(httpClient.getResponseBody())\nobjects.results.each{job ->\n  println(\"${job.id}.failures: ${(job.summary_fields.last_job.failed == \"true\") ? 1 : 0}\")\n}\nreturn 0",
    "scriptType" : "embed",
    "windowsCmdline" : "",
    "windowsScript" : ""
  },
  "enableAutoDiscovery" : true,
  "autoDiscoveryConfig" : {
    "persistentInstance" : false,
    "disableInstance" : false,
    "deleteInactiveInstance" : true,
    "instanceAutoGroupMethod" : "ilp",
    "instanceAutoGroupMethodParams" : "auto.inventory",
    "scheduleInterval" : 0,
    "method" : {
      "name" : "ad_script",
      "type" : "embeded",
      "winScript" : null,
      "winCmdline" : null,
      "linuxCmdline" : null,
      "linuxScript" : null,
      "groovyScript" : "import com.santaba.agent.groovyapi.http.HTTP\nimport groovy.json.JsonSlurper\n\ndef hostname = hostProps.get(\"system.hostname\")\ndef password=hostProps.get(\"awx.pass\")\ndef username=hostProps.get(\"awx.user\")\ndef port = hostProps.get(\"awx.port\") ? hostProps.get(\"awx.port\").toInteger() : 80\n\nhttpClient = HTTP.open(hostname, port)\n\nheaders = [\n  \"Authorization\": \"Basic ${\"${username}:${password}\".bytes.encodeBase64().toString()}\",\n  \"Content-Type\": \"application/json\"\n]\n\nurl = \"http://${hostname}/api/v2/job_templates/\"\nresponse = httpClient.get(url,headers)\nif  (httpClient.getStatusCode() != 200 ) { println(response);return 1; }\nobjects = new JsonSlurper().parseText(httpClient.getResponseBody())\nobjects.results.each{job ->\n  println(\"${job.id}##${job.name}##${job.summary_fields.project.name}/${job.playbook}####inventory=${job.summary_fields.inventory.name}\")\n}\nreturn 0\n"
    },
    "filters" : [ ]
  },
  "dataPoints" : [ {
    "id" : 17689,
    "dataSourceId" : 13304243,
    "name" : "failures",
    "description" : "",
    "alertTransitionInterval" : 0,
    "alertClearTransitionInterval" : 0,
    "type" : 2,
    "dataType" : 7,
    "maxDigits" : 4,
    "postProcessorMethod" : "namevalue",
    "postProcessorParam" : "##WILDVALUE##.failures",
    "rawDataFieldName" : "output",
    "maxValue" : "",
    "minValue" : "",
    "userParam1" : "",
    "userParam2" : "",
    "userParam3" : "",
    "alertForNoData" : 1,
    "alertExpr" : "",
    "alertExprNote" : "",
    "alertSubject" : "",
    "alertBody" : "",
    "enableAnomalyAlertSuppression" : ""
  } ],
  "enableEriDiscovery" : false,
  "eriDiscoveryInterval" : -1,
  "eriDiscoveryConfig" : null
}